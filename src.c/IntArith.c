/* file generated by oo2c -- do not edit */
#include "__oo2c.h"
#include "__libc.h"
#include "IntArith.d"

static _ModId _mid;

signed char IntArith__Sgn(int i) {
  register int i0;
  i0 = i < 0;
  if (i0) goto l1;
  i0 = i > 0;
  if (i0) goto l0;
  i0 = 0;
  goto l2;
l0:
  i0 = 1;
  goto l2;
l1:
  i0 = -1;
l2:
  return (signed char)i0;
}

unsigned char IntArith__OutOfRange(int value, signed char range, short int *err) {
  register int i0;
  i0 = StdTypes__WholeMin((signed char)range);
  i0 = value < i0;
  if (i0) goto l0;
  i0 = StdTypes__WholeMax((signed char)range);
  i0 = value > i0;
  if (i0) goto l0;
  i0 = 0;
  goto l1;
l0:
  *err = 350;
  i0 = 1;
l1:
  return (unsigned char)i0;
}

unsigned char IntArith__Includes(signed char range0, signed char range1) {
  register int i0, i1, i2;
  i0 = range0 >= 8;
  if (i0) goto l2;
  i0 = range1 >= 8;
  if (i0) goto l2;
  i2 = StdTypes__WholeMin((signed char)range0);
  i1 = StdTypes__WholeMin((signed char)range1);
  i2 = i2 > i1;
  if (i2) goto l0;
  i2 = StdTypes__WholeMax((signed char)range1);
  i1 = StdTypes__WholeMax((signed char)range0);
  i1 = i2 <= i1;
  if (i1) goto l1;
l0:
  i2 = 0;
  goto l3;
l1:
  i2 = 1;
  goto l3;
l2:
  i2 = range0 >= range1;
l3:
  return (unsigned char)i2;
}

int IntArith__Add(int x, int y, signed char range, short int *err) {
  register int i0, i1;
  i1 = IntArith__Sgn((int)x);
  i0 = IntArith__Sgn((int)y);
  i0 = i1 != i0;
  if (i0) goto l0;
  i0 = x != 0;
  if (i0) goto l1;
l0:
  i0 = 0;
  goto l3;
l1:
  i0 = x > 0;
  if (i0) goto l2;
  i0 = StdTypes__WholeMin((signed char)range);
  i0 -= y;
  i0 = x < i0;
  goto l3;
l2:
  i0 = StdTypes__WholeMax((signed char)range);
  i0 -= y;
  i0 = x > i0;
l3:
  if (i0) goto l4;
  i1 = x + y;
  i0 = *err;
  i0 = IntArith__OutOfRange((int)i1, (signed char)range, (short int *)(int)err);
  if (i0) goto l4;
  *err = -1;
  goto l5;
l4:
  *err = 350;
  i1 = 1;
l5:
  return (int)i1;
}

int IntArith__Sub(int x, int y, signed char range, short int *err) {
  register int i0, i1;
  i0 = y == (-2147483647-1);
  if (i0) goto l0;
  i0 = - y;
  i1 = *err;
  i1 = IntArith__Add((int)x, (int)i0, (signed char)range, (short int *)(int)err);
  goto l2;
l0:
  i0 = x == 2147483647;
  if (i0) goto l1;
  i0 = x + 1;
  i1 = *err;
  i1 = IntArith__Add((int)i0, (int)2147483647, (signed char)range, (short int *)(int)err);
  goto l2;
l1:
  *err = 350;
  i1 = 1;
l2:
  return (int)i1;
}

int IntArith__Mult(int x, int y, signed char range, short int *err) {
  register int i0, i1, i2, i3, i4;
  i0 = x == 0;
  *err = -1;
  if (i0) goto l0;
  i1 = y == 0;
  if (i1) goto l0;
  i4 = x == 1;
  if (i4) goto l0;
  i1 = y != 1;
  if (i1) goto l1;
l0:
  i3 = x;
  i2 = y;
  goto l7;
l1:
  i0 = StdTypes__WholeMin((signed char)range);
  i4 = x == i0;
  if (i4) goto l6;
  i1 = y == i0;
  if (i1) goto l6;
  i1 = IntArith__Sgn((int)y);
  i4 = IntArith__Sgn((int)x);
  i1 = i4 != i1;
  if (i1) goto l2;
  i1 = - x;
  i1 = IntArith__Mult((int)i1, (int)y, (signed char)range, (short int *)(int)err);
  i1 = i1 == i0;
  if (i1) goto l6;
l2:
  i3 = y < 0;
  if (i3) goto l3;
  i3 = x;
  i2 = y;
  goto l4;
l3:
  i2 = - y;
  i3 = - x;
l4:
  _div(i1, i0, i2, int);
  i4 = i3 < i1;
  if (i4) goto l5;
  i1 = i3 != i1;
  if (i1) goto l7;
  _mod(i0, i0, i2, int);
  i0 = i0 <= 0;
  if (i0) goto l7;
l5:
  *err = 350;
  goto l7;
l6:
  *err = 350;
  i2 = y;
  i3 = x;
l7:
  i0 = *err;
  i1 = i0 > 0;
  if (i1) goto l8;
  i1 = i3 * i2;
  i2 = IntArith__OutOfRange((int)i1, (signed char)range, (short int *)(int)err);
  if (!(i2)) goto l9;
l8:
  i1 = 1;
l9:
  return (int)i1;
}

int IntArith__Div(int x, int y, signed char range, short int *err) {
  register int i0, i1, i2;
  *err = -1;
  i0 = y == 0;
  if (i0) goto l4;
  i0 = y < 0;
  if (i0) goto l0;
  _div(i2, x, y, int);
  goto l5;
l0:
  i1 = StdTypes__WholeMin((signed char)range);
  i0 = y == i1;
  if (i0) goto l2;
  i0 = x == i1;
  if (i0) goto l1;
  i0 = - x;
  i2 = - y;
  i2 = IntArith__Div((int)i0, (int)i2, (signed char)range, (short int *)(int)err);
  goto l5;
l1:
  i2 = x - y;
  i2 = - i2;
  i0 = - y;
  i2 = IntArith__Div((int)i2, (int)i0, (signed char)range, (short int *)(int)err);
  i2++;
  goto l5;
l2:
  i1 = x == i1;
  if (i1) goto l3;
  i2 = 0;
  goto l5;
l3:
  i2 = 1;
  goto l5;
l4:
  *err = 351;
  i2 = 1;
l5:
  i1 = *err;
  i0 = i1 > 0;
  if (i0) goto l6;
  i1 = IntArith__OutOfRange((int)i2, (signed char)range, (short int *)(int)err);
  if (!(i1)) goto l7;
l6:
  i2 = 1;
l7:
  return (int)i2;
}

int IntArith__Mod(int x, int y, signed char range, short int *err) {
  register int i0, i1, i2;
  *err = -1;
  i0 = y == 0;
  if (i0) goto l4;
  i0 = y < 0;
  if (i0) goto l0;
  _mod(i2, x, y, int);
  goto l5;
l0:
  i1 = StdTypes__WholeMin((signed char)range);
  i0 = y == i1;
  if (i0) goto l2;
  i0 = x == i1;
  if (i0) goto l1;
  i2 = - x;
  i0 = - y;
  i2 = IntArith__Mod((int)i2, (int)i0, (signed char)range, (short int *)(int)err);
  i2 = - i2;
  goto l5;
l1:
  i2 = x - y;
  i2 = - i2;
  i0 = - y;
  i2 = IntArith__Mod((int)i2, (int)i0, (signed char)range, (short int *)(int)err);
  i2 = - i2;
  goto l5;
l2:
  i1 = x == i1;
  if (i1) goto l3;
  i2 = y;
  goto l5;
l3:
  i2 = 0;
  goto l5;
l4:
  *err = 351;
  i2 = 1;
l5:
  i1 = *err;
  i0 = i1 > 0;
  if (i0) goto l6;
  i1 = IntArith__OutOfRange((int)i2, (signed char)range, (short int *)(int)err);
  if (!(i1)) goto l7;
l6:
  i2 = 1;
l7:
  return (int)i2;
}

int IntArith__Neg(int x, signed char range, short int *err) {
  register int i0;
  i0 = *err;
  i0 = IntArith__Sub((int)0, (int)x, (signed char)range, (short int *)(int)err);
  return (int)i0;
}

int IntArith__Abs(int x, signed char range, short int *err) {
  register int i0;
  i0 = x >= 0;
  if (i0) goto l0;
  i0 = *err;
  i0 = IntArith__Neg((int)x, (signed char)range, (short int *)(int)err);
  goto l1;
l0:
  *err = -1;
  i0 = x;
l1:
  return (int)i0;
}

int IntArith__Ash(int x, int y, signed char range, short int *err) {
  register int i0, i1, i2, i3, i4;
  *err = -1;
  i0 = y == 0;
  if (i0) goto l3;
  i3 = *err;
  i1 = i3 >= 0;
  if (i1) goto l3;
  i4 = x;
  i2 = y;
l0:
  i0 = i2 < 0;
  if (i0) goto l1;
  i3 = *err;
  i3 = IntArith__Mult((int)i4, (int)2, (signed char)range, (short int *)(int)err);
  i0 = i2 - 1;
  i2 = i0;
  i4 = i3;
  goto l2;
l1:
  i0 = *err;
  i0 = IntArith__Div((int)i4, (int)2, (signed char)range, (short int *)(int)err);
  i3 = i2 + 1;
  i2 = i3;
  i4 = i0;
l2:
  i0 = i2 != 0;
  if (!(i0)) goto l4;
  i0 = *err;
  i0 = i0 < 0;
  if (i0) goto l0;
  goto l4;
l3:
  i4 = x;
l4:
  i0 = *err;
  i1 = i0 < 0;
  if (i1) goto l5;
  i4 = 1;
l5:
  return (int)i4;
}

void IntArith_init(void) {
  _mid = _register_module(&IntArith_md.md, NULL);
}
